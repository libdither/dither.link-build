<!DOCTYPE html>
<html lang="en-us"
  dir="ltr">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Self-Defining Structures #  (A.k.a. Hashtypes)
Self defining structures are pieces of data that link to their own format, telling the program how they are structured and how to validate them.
The workings of this system are heavily dependent on Directional Trail Search and Reverse Hash Lookup.
Ideas To Add to this Doc #   Make structures&#39; fields binary-ordered by default to increase the chances that developers will use and create the same structures.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="Self-Defining Structures #  (A.k.a. Hashtypes)
Self defining structures are pieces of data that link to their own format, telling the program how they are structured and how to validate them.
The workings of this system are heavily dependent on Directional Trail Search and Reverse Hash Lookup.
Ideas To Add to this Doc #   Make structures&#39; fields binary-ordered by default to increase the chances that developers will use and create the same structures." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.dither.link/docs/spec/dither/data/hashtypes/hashtypes-old-old/" /><meta property="article:section" content="docs" />



<title>Hashtypes Old Old | Dither Link</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.2b6faafd222e44aee28c6c64c8a33b86724f4ddfa861d8803e799236b1ad20c6.css" integrity="sha256-K2&#43;q/SIuRK7ijGxkyKM7hnJPTd&#43;oYdiAPnmSNrGtIMY=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.a7969b43227ef2d036242345733d17cc15b9fe64c5ba9568dcfe596c7d72fc16.js" integrity="sha256-p5abQyJ&#43;8tA2JCNFcz0XzBW5/mTFupVo3P5ZbH1y/BY=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
  <script>
	if (!(window.location.host.startsWith("127.0.0.1") || window.location.host.startsWith("localhost")) && (window.location
			.protocol != "https:")) window.location.protocol = "https:";
</script>

</head>

<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
    <aside class="book-menu">
      <div class="book-menu-content">
        
<nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Dither Link</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    Page(/docs/_index.md)
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/" class="">Applications</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/analytics/" class="">Analytics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/compilation/" class="">Compilation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/de-brujin-index-alternative/" class="">De Brujin Index Alternative</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/disp/" class="">Disp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/examples/assembly/6502-assembly/" class="">6502 Assembly</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/examples/assembly/hello-world/" class="">Hello World</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/funclets/" class="">Funclets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/functions/" class="">Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/live-rollbacks/" class="">Live Rollbacks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/syntax/" class="">Syntax</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/disp/types/" class="">Types</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dithca/" class="">Dithca</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dither-chat/" class="">Dither Chat</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dither-coin/" class="">Dither Coin</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dither-dex/" class="">Dither Dex</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dither-git/" class="">Dither Git</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dither-versioning/" class="">Dither Versioning</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/dithix/" class="">Dithix</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/nomia/" class="">Nomia</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/predictive-keyboard/" class="">Predictive Keyboard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/protocol-of-truth/examples/" class="">Examples</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/protocol-of-truth/protocol-of-truth/" class="">Protocol of Truth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/protocol-of-truth/protocol-types/" class="">Protocol Types</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/tree-of-math/" class="">Tree of Math</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/applications/user-proofs/verified-human/" class="">Verified Human</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/copyright-is-cancer/" class="">Copyright Is Cancer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/" class="">Dither</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/application-design-philosophy/" class="">Application Design Philosophy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/consensus/byzantine-federated-voting/" class="">Byzantine Federated Voting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/consensus/consensus-algorithms/" class="">Consensus Algorithms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/consensus/distance-aware-consensus/" class="">Distance Aware Consensus</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/consensus/eventual-consensus/" class="">Eventual Consensus</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/consensus/modular-consensus/" class="">Modular Consensus</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/core-traits/" class="">Core Traits</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/hashtypes-old-old/" class=" active">Hashtypes Old Old</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/hashtypes-old/" class="">Hashtypes Old</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/hashtypes/" class="">Hashtypes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/lambda-calculus/" class="">Lambda Calculus</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/primitive-traits/" class="">Primitive Traits</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/hashtypes/self-verifying-structures/" class="">Self Verifying Structures</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/proof-of-linked-data/" class="">Proof of Linked Data</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/reverse-hash-lookup/" class="">Reverse Hash Lookup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/user-management/" class="">User Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/data/zero-knowledge-proofs/" class="">Zero Knowledge Proofs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/encryption/decentralized-kerberos/" class="">Decentralized Kerberos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/encryption/multikey/" class="">Multikey</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/routing/directional-trail-search/" class="">Directional Trail Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://www.dither.link/docs/spec/dither/routing/distance-based-routing/" class="">Distance Based Routing</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



        
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
<div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Hashtypes Old Old</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>



<aside class="hidden clearfix">
  

<nav id="TableOfContents">
  <ul>
    <li><a href="#ideas-to-add-to-this-doc">Ideas To Add to this Doc</a></li>
    <li><a href="#structures">Structures</a></li>
    <li><a href="#traits">Traits</a></li>
    <li><a href="#markers">Markers</a></li>
    <li><a href="#traitmarker-implementation"><code>TraitMarker</code> Implementation</a></li>
    <li><a href="#primitive-trait-implementations">Primitive Trait Implementations</a>
      <ul>
        <li><a href="#common-trait-types">Common Trait Types</a></li>
        <li><a href="#core-redefined-traits">Core (Re)Defined Traits</a></li>
        <li><a href="#defined-traits">Defined Traits</a></li>
        <li><a href="#trait-variants">Trait Variants</a></li>
        <li><a href="#link-strengths">Link Strengths</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#defining-external-structures">Defining External Structures</a></li>
        <li><a href="#example-traits">Example Traits</a></li>
      </ul>
    </li>
  </ul>
</nav>



</aside>


        
      </header>

      
      
<article class="markdown"><h1 id="self-defining-structures">
  Self-Defining Structures
  <a class="anchor" href="#self-defining-structures">#</a>
</h1>
<p>(A.k.a. <em>Hashtypes</em>)</p>
<p>Self defining structures are pieces of data that link to their own format, telling the program how they are structured and how to validate them.</p>
<p>The workings of this system are heavily dependent on 
  <a href="/docs/spec/dither/routing/directional-trail-search/">Directional Trail Search</a> and 
  <a href="/docs/spec/dither/data/reverse-hash-lookup/">Reverse Hash Lookup</a>.</p>
<h2 id="ideas-to-add-to-this-doc">
  Ideas To Add to this Doc
  <a class="anchor" href="#ideas-to-add-to-this-doc">#</a>
</h2>
<ul>
<li>Make structures' fields binary-ordered by default to increase the chances that developers will use and create the same structures. Delegate conceptual ordering to <code>TraitLocalization</code>.
<ul>
<li>I.e. if two programs both need a File trait and a file is just some binary data and a creation date, the resulting <code>File</code> trait will be the same in both programs assuming the programmers use the same internal fields.</li>
</ul>
</li>
</ul>
<h2 id="structures">
  Structures
  <a class="anchor" href="#structures">#</a>
</h2>
<p>A structure is a piece of binary data that starts with a 
  <a href="https://multiformats.io/multihash/">Multihash</a>.
A structure is considered correct if the format of the binary data corresponds with the Trait definition linked to via the Multihash.</p>
<h2 id="traits">
  Traits
  <a class="anchor" href="#traits">#</a>
</h2>
<p>Traits are what the formats of self-defining structures are called and are themselves structures defined by their own trait. This allows the creation of any type of structure imaginable.</p>
<h2 id="markers">
  Markers
  <a class="anchor" href="#markers">#</a>
</h2>
<p>Markers are the core primitives for adding functionality to structures. They mark the interface between the Hashtrait implementation and the data of a structure. They tell the implementation what operations a program can perform on a given structure as well as how the data should be interpreted at a base level.</p>
<p><em>Markers are recognized by the program as the sha256-variant multihash counting up from 0. They do not correspond to the hash of specific data.</em> (i.e. the base58 encoding of <code>TraitMarker</code> would be <code>QmNLei78zWmzUdbeRB3CiUfAizWUrbeeZh5K1rhAQKCh51</code> and <code>MultihashMarker</code> would be <code>QmNLei78zWmzUdbeRB3CiUfAizWUrbeeZh5K1rhAQKCh52</code>)</p>
<p>Primitive Markers:</p>
<ul>
<li><code>TraitMarker</code> - Marks a structure that acts as a trait. Also acts as a base trait implementation. Allows for implementation to interpret basic trait definitions as well as marking custom traits.
<ul>
<li>Trait Format: <code>&lt;0x000 hash&gt;&lt;varint length&gt;&lt;list of &gt;</code></li>
</ul>
</li>
<li><code>MultihashMarker</code> - Marks a multihash. Interpreted by implementation as a sha-256 multihash as defined by the multihash specification.</li>
<li><code>SizeMarker</code> - Allows the program to know beforehand the size of a structure.</li>
</ul>
<p>Advanced Markers: (WIP)</p>
<ul>
<li><code>GenericMarker</code> - Marks generic arguments of a trait.</li>
<li><code>DynamicSizeMarker</code> - Marks a structure size calculation program. Allows for the implementation to derive the size of a specific structure.</li>
<li><code>ValidityMarker</code> - Marks a structure validation program. Allows for implementation to check if a structure is defined correctly as defined by its trait.</li>
</ul>
<h2 id="traitmarker-implementation">
  <code>TraitMarker</code> Implementation
  <a class="anchor" href="#traitmarker-implementation">#</a>
</h2>
<p>The TraitMarker trait is defined in implementation as a trait like this:</p>
<ul>
<li><code>TraitMarker</code>
<ul>
<li><code>SizeMarker</code> - Represents the size of the defined structure</li>
<li><code>MultihashMarker</code> -</li>
<li><code>MultihashMarker</code></li>
</ul>
</li>
</ul>
<h2 id="primitive-trait-implementations">
  Primitive Trait Implementations
  <a class="anchor" href="#primitive-trait-implementations">#</a>
</h2>
<p>Notice: These trait definitions will have named fields, in actuality, field names are defined through a 
  <a href="/docs/spec/dither/data/reverse-hash-lookup/">reverse-linked</a> trait called a <code>TraitLocalization</code> and can be defined in multiple languages.</p>
<p>From Markers, primitive traits can be created. A simple trait could be defined as:</p>
<p><code>Trait: TraitMarker</code> (The &ldquo;<code>:</code>&rdquo; represents that the Trait structure is being defined in terms of the <code>TraitMarker</code> &ldquo;structure&rdquo;)</p>
<ul>
<li><code>fields: List&lt;&gt;</code></li>
</ul>
<p>Traits can also be generic across other traits to apply some functionality (Such as the <code>Multihash</code>, <code>Option</code>, <code>List</code>, or <code>Collection</code> traits).</p>
<p>Each trait is itself a structure and also starts with a multihash and has it&rsquo;s own format.</p>
<p>A typical trait will use the <code>Trait</code> type as it&rsquo;s format which is defined as the following:</p>
<ul>
<li><code>extension: Option&lt;Multihash&lt;ext Trait&gt;&gt;</code> (Optionally specify trait that is being extended)</li>
<li>(List of Multihashes that link to objects which extend <code>Trait</code>)</li>
</ul>
<p>The <code>Trait</code> type as well as all other built-in types are identified by a multihash of their name. i.e. &ldquo;Trait&rdquo;.</p>
<p>This leads to the second feature of traits which is extension. Traits that extend other traits simply add fields to the resulting structure that is defined.</p>
<h3 id="common-trait-types">
  Common Trait Types
  <a class="anchor" href="#common-trait-types">#</a>
</h3>
<h4 id="built-in">
  Built-in
  <a class="anchor" href="#built-in">#</a>
</h4>
<p>These are the minimum viable Traits needed to define all other Traits. Some of these traits will be redefined to support various features and to ensure future-proofing.</p>
<ul>
<li><code>VarUInt</code> - Multiformat&rsquo;s 
  <a href="https://github.com/multiformats/unsigned-varint">Variable-Length Integer</a></li>
<li><code>Multihash</code> - Formatted via the 
  <a href="https://multiformats.io/multihash/">Multihash format</a>, defines a hash generated by a built-in table.</li>
<li><code>Byte</code> - 8-bit piece of data.</li>
<li><code>List&lt;T, L: VarUInt&gt;(L)</code> - Create lists of a certain type, length must be of Trait VarInt</li>
<li><code>CoreTrait</code> - Core definition of a trait. It is defined in the implementation, but is essentially a <code>List</code> of <code>Multihash</code>s.</li>
</ul>
<h3 id="core-redefined-traits">
  Core (Re)Defined Traits
  <a class="anchor" href="#core-redefined-traits">#</a>
</h3>
<p>The core traits are needed to compose all other traits. But all the features of self-defining structures don&rsquo;t arise from them directly.</p>
<p>The concept of &ldquo;Structure Validity&rdquo; is important. An Enum object is just an integer, but it shouldn&rsquo;t be larger than the number of Enumerations. A Enum structure that contains a value larger than its definition is considered invalid, even though it may be interpretated correctly.</p>
<ul>
<li><code>String: CoreTrait</code>
<ul>
<li><code>bytes: List&lt;Byte&gt;(L)</code></li>
</ul>
</li>
<li><code>Trait: CoreTrait</code>
<ul>
<li><code>name: String</code></li>
<li><code>fields: List&lt;Multihash, L&gt;(L)</code></li>
</ul>
</li>
<li></li>
</ul>
<h3 id="defined-traits">
  Defined Traits
  <a class="anchor" href="#defined-traits">#</a>
</h3>
<ul>
<li><code>Enum&lt;T: VarUInt, L: T&gt;: NamedTrait</code> - Defines a number that correspond to different states of the Enum. Number of Variants in Generic
<ul>
<li><code>variant: T</code></li>
<li><code>validity: Validity</code> - Enum is only valid if the type T is an unsigned type, it is large enough to fit L, and <code>variant</code> is less than T.</li>
</ul>
</li>
<li><code>BitFlag&lt;L: UInt8&gt;: NamedTrait</code> - Defines a series of bitflags up to</li>
<li><code>Link&lt;T&gt;: VersionedTrait</code> - Multihash linking to structure with specific Trait T.
<ul>
<li><code>hash: Multihash</code></li>
<li><code>link_type: LinkType</code>
<ul>
<li><code>LinkType: Bitflags&lt;1&gt;</code> - Provides metadata about the importance of the lined object. Governs whether or not linked data is garbage collected, sent to requesting devices with the original request, or stored in a specific way.
<ul>
<li><code>Embedded</code> - Linked object is absolutely needed by the original structure (should be relatively small).</li>
<li><code>Cached</code> - Linked object that is absolutely needed but the requesting device should already have (i.e. emojis, fonts, trait definitions, etc.).</li>
<li><code>Needed</code> - Linked object that should probably be sent back ASAP.</li>
<li><code>Relevent</code> - Linked object that is relevant to the structure but not necessarily needed ASAP (e.g. image or linked video file)</li>
<li><code>Irrelevant</code> - Linked object that is large or unecessary and should never be sent with original request.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>RevLink&lt;T&gt;</code> - Wraps a <code>Link&lt;T&gt;</code> and requires a Trait type specification. Registers the trait T in the Reverse Hash Lookup tree. Allows for lookup of trait containing <code>RevLink&lt;T&gt;</code> type from the hash linked to.
<ul>
<li>link: <code>Link&lt;T&gt;</code></li>
<li>validity: <code>Validation</code></li>
</ul>
</li>
<li><code>Localization: Enum</code></li>
<li><code>TraitLocalization: NamedTrait</code> - Defines field names and overall name of RevLinked trait in different languages.
<ul>
<li><code>name: String</code></li>
<li><code>fields: List&lt;String&gt;</code></li>
<li></li>
</ul>
</li>
</ul>
<h3 id="trait-variants">
  Trait Variants
  <a class="anchor" href="#trait-variants">#</a>
</h3>
<p>List of Traits that extend the core <code>Trait</code> type.</p>
<ul>
<li><code>NamedTrait: Trait</code> type which contains a <code>String</code> for the English name of the Trait.</li>
<li><code>VersionedTrait: NamedTrait</code> - adds <code>Option&lt;RevLink&lt;ext VersionedTrait&gt;&gt;&gt;</code>. This is useful for backwards-compatability and future-proofing.</li>
</ul>
<h3 id="link-strengths">
  Link Strengths
  <a class="anchor" href="#link-strengths">#</a>
</h3>
<p>Being able to specify how vital a linked piece of data is to the &ldquo;owning&rdquo; piece of data is desireable when requesting data so that too much or too little is sent and either data has to be disgarded or more data has to be requested. For example, if a structure is defined to format a piece of data that is not self-defining, it is desirable to be able to specify to fetch only the structure itself, or the structure together with the embedded data. To accomplish this,</p>
<h1 id="from-dithermd">
  From Dither.md
  <a class="anchor" href="#from-dithermd">#</a>
</h1>
<h3 id="defining-external-structures">
  Defining External Structures
  <a class="anchor" href="#defining-external-structures">#</a>
</h3>
<p>In Dither, while pieces of data can be located and linked with multihashes, not all pieces of data contain multihashes. Any external hash-linked data structure that you want to host on Dither (i.e. blockchains) aren&rsquo;t going to be natively supported. Instead all the blocks of data must either be re-linked to form a multihash-supporting copy or the hash types have to be inferred by context. (The downside of the second option non-hashtrait blocks can&rsquo;t easily be inferred from non-specific programs interpreting hashtraits). The second option is what IPFS/IPLD is doing, reinterpreting hashed blocks of data of arbitrary format by defining a standard table of formats. Dither prefers the first option of wrapping the entire data structure with trait definitions that Dither can understand.</p>
<p>What IPLD does is it uses an addition to Multihash called CID (Content Identifier). This CID contains both the multihash and a number for the Multiformats table that must be standardly designed.</p>
<p>The problem with IPLD is that this 
  <a href="https://github.com/multiformats/multicodec/blob/master/table.csv">standard table of formats</a> is subject to change. Formats are not universal and if you want to identify custom formats not in the table, you are out of luck if you want to communicate your custom formats to existing IPFS applications</p>
<p>With Dither, instead of having a hard standard list of formats, Formats of data are defined by the data itself using the hashtrait format. Data that is not trait-defined, will be either wrapped using a definition trait (i.e. a structure just containing a hash of the data and trait). Or it will be reinterpreted to be represented natively as a trait structure.</p>
<h3 id="example-traits">
  Example Traits
  <a class="anchor" href="#example-traits">#</a>
</h3>
<p>Traits can define any data structure and its state of being &ldquo;Valid&rdquo;.
A Monero Transaction might look something like this after being structured in Dither.</p>
<ul>
<li><code>&quot;Transaction&quot; (With localization fields)</code>
<ul>
<li><code>previous_transaction: SelfRef</code></li>
<li><code>definintion: Multihash (Default Trait Definition)</code></li>
<li><code>source: List&lt;MultiKey&gt;</code></li>
<li><code>destination: Multikey</code></li>
<li><code>pederson_commitment: PedersonCommitment</code></li>
<li><code>signature: RingSignature</code></li>
</ul>
</li>
</ul>
</article>

      
      

      <footer class="book-footer">
        
<div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center"
      href="https://github.com/libdither/dither-spec/edit/master/dither/data/hashtypes/hashtypes-old-old.md"
      target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>



        
        
      </footer>

      


      

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        

<nav id="TableOfContents">
  <ul>
    <li><a href="#ideas-to-add-to-this-doc">Ideas To Add to this Doc</a></li>
    <li><a href="#structures">Structures</a></li>
    <li><a href="#traits">Traits</a></li>
    <li><a href="#markers">Markers</a></li>
    <li><a href="#traitmarker-implementation"><code>TraitMarker</code> Implementation</a></li>
    <li><a href="#primitive-trait-implementations">Primitive Trait Implementations</a>
      <ul>
        <li><a href="#common-trait-types">Common Trait Types</a></li>
        <li><a href="#core-redefined-traits">Core (Re)Defined Traits</a></li>
        <li><a href="#defined-traits">Defined Traits</a></li>
        <li><a href="#trait-variants">Trait Variants</a></li>
        <li><a href="#link-strengths">Link Strengths</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#defining-external-structures">Defining External Structures</a></li>
        <li><a href="#example-traits">Example Traits</a></li>
      </ul>
    </li>
  </ul>
</nav>



        
      </div>
    </aside>
    
  </main>

  
</body>

</html>












